
<div class="row mt-3">
  <div class="col-7 m-auto">
    <mat-spinner class="m-auto" *ngIf="isLoading"></mat-spinner>

    <form [formGroup]="reactiveForm" (submit)="onUpdatePost()" *ngIf="!isLoading">
      <div class="form-group">
        <label for="postTitle">Enter Post Title:</label>
        <input formControlName="title" type="text" class="form-control" id="postTitle" aria-describedby="titleHelp" placeholder="Enter post title..">
        <small *ngIf="reactiveForm.get('title').invalid && reactiveForm.get('title').touched" id="titleHelp" class="form-text text-danger">This field can not be empty!</small>
      </div>

      <!--<div class="form-group">-->
      <!--<label for="postContent">Enter Post Content:</label>-->
      <!--<textarea formControlName="content" class="form-control" id="postContent" rows="6"></textarea>-->
      <!--</div>-->
      <ejs-richtexteditor formControlName="content" [toolbarSettings]="tools"></ejs-richtexteditor>

      <div class="form-group">
        <p>Upload Post Image</p>
        <!--<button (click)="filePicker.click()" class="btn btn-success">Choose File..</button>-->
        <input  class="form-control" (change)="onImageUpload($event)" class="default-uploader" type="file" #filePicker>
      </div>

      <div class="image-view" *ngIf="imageView !== '' && imageView">
        <img class="img-fluid" [src]="imageView" [alt]="reactiveForm.value.title">
      </div>

      <button [disabled]="!reactiveForm.valid" type="submit" class="btn btn-primary">Update Post</button>
    </form>

  </div>
</div>


